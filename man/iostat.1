.TH IOSTAT 1 "JANUARY 2000" Linux "Linux User's Manual" -*- nroff -*-
.SH NAME
iostat \- Report Central Processing Unit (CPU) statistics and input/output
statistics for tty devices and disks.
.SH SYNOPSIS
.B iostat [ -c | -d ] [ -p | -l ] [ -t ] [ -V ] [ -o
.I filename
.B ] [ -f
.I filename
.B ] [
.I interval
.B [
.I count
.B ] ]
.SH DESCRIPTION
The
.B iostat
command is used for monitoring system input/output device
loading by observing the time the physical disks are active in relation
to their average transfer rates. The
.B iostat
command generates reports
that can be used to change system configuration to better balance
the input/output load between physical disks.

The first report generated by the
.B iostat
command provides statistics
concerning the time since the system was booted. Each subsequent report
covers the time since the previous report. All statistics are reported
each time the iostat command is run. The report consists of a tty
(if enabled in the kernel)
and CPU header row followed by a row of tty
(if enabled in the kernel)
and CPU statistics. On
multiprocessor systems, CPU statistics are calculated system-wide
as averages among all processors. A disks header row is displayed
followed by a line of statistics for each disk that is configured.

The
.I interval
parameter specifies the amount of time in seconds between
each report. The first report contains statistics for the time since
system startup (boot). Each subsequent report contains statistics
collected during the interval since the previous report. The
.I count
parameter can be specified in conjunction with the
.I interval
parameter. If the
.I count
parameter is specified, the value of
.I count
determines the number of reports generated at
.I interval
seconds apart. If the
.I interval
parameter is specified without the
.I count
parameter, the
.B iostat
command generates reports continuously.

.SH REPORTS
The
.B iostat
command generates two types of reports, the tty and CPU
Utilization report and the Disk Utilization report.
.IP "tty and CPU Utilization Report"
The first report generated by the
.B iostat
command is the tty and CPU
Utilization Report. For multiprocessor systems, the CPU values are
global averages among all processors. Also, the I/O wait state is
defined system-wide and not per processor. The report has the following
format:

.B tin
.RS
.RS
Show the total number of characters read by the system for all ttys.
.RE
.B tout
.RS
Show the total number of characters written by the system to all ttys.
.RE
.B %user
.RS
Show the percentage of CPU utilization that occurred while
executing at the user level (application).
.RE
.B %nice
.RS
Show the percentage of CPU utilization that occurred while
executing at the user level with nice priority.
.RE
.B %sys
.RS
Show the percentage of CPU utilization that occurred while
executing at the system level (kernel).
.RE
.B %idle
.RS
Show the percentage of time that the CPU or CPUs were idle
and the system did not have an outstanding disk I/O request.
.RE
.B %iowait
.RS
Show the percentage of time that the CPU or CPUs were idle
during which the system had an outstanding disk I/O request. This
value may be slightly inflated if several processors are idling at
the same time, an unusual occurance.
Note that Linux does not support I/O wait accounting at the
present time.
.RE
.RE
.IP "Disk Utilization Report"
The second report generated by the
.B iostat
command is the Disk Utilization
Report. The disk report provides statistics on a per physical disk
basis. The report may show the following fields depending on the
options used:

.B tps
.RS
.RS
Indicate the number of transfers per second that were issued
to the physical disk. A transfer is an I/O request to the physical
disk. Multiple logical requests can be combined into a single I/O
request to the disk. A transfer is of indeterminate size.

.RE
.B KB_read/s
.RS
Indicate the amount of data read from the drive in KB per second.
.RE
.B KB_wrtn/s
.RS
Indicate the amount of data written to the drive in KB per second.
.RE
.B KB_read
.RS
The total number of KB read from disk.
.RE
.B KB_wrtn
.RS
The total number of KB written to disk.
.RE
.B Blk_read/s
.RS
Indicate the amount of data read from the drive expressed in a number of
blocks per second. A block is of indeterminate size.
.RE
.B Blk_wrtn/s
.RS
Indicate the amount of data written to the drive expressed in a number of
blocks per second. A block is of indeterminate size.
.RE
.B Blk_read
.RS
The total number of blocks read.
.RE
.B Blk_wrtn
.RS
The total number of blocks written.
.RE
.RE
.SH OPTIONS
.IP -c
The -c option is exclusive of the -d option and displays only the
tty and cpu usage reports.
.IP -d
The -d option is exclusive of the -c option and displays only the
disk utilization report.
.IP "-f filename"
Extract records from the specified file (created by the -o option).
The -f option is exclusive of the -o option.
.IP -l
The -l option is exclusive of the -p option and tells
.B iostat
to display logical block I/O statistics for each drive.
.IP "-o filename"
Specify a file to which output is redirected. Statistics
are saved in a binary format. The -o option is exclusive of the -f option.
.IP -p
The -p option is exclusive of the -l option and tells
.B iostat
to display physical I/O statistics for each drive, expressed in KB/s.
Note that a patch needs to be applied to the kernel for this option to
work with each drive. Without this patch, -l and -p flags are not available
and iostat can only display logical block I/O statistics.
.IP -t
Print the time for each report displayed.
.IP -V
Print version number and usage then exit.

.SH ENVIRONMENT
The
.B iostat
command takes into account the following environment variable:

.IP S_TIME_FORMAT
If this variable exists and its value is
.BR ISO
then the current locale will be ignored when printing the date in the report header.
The
.B iostat
command will use the ISO format (YYYY-MM-DD) instead.

.SH EXAMPLES
.B iostat
.RS
Display a single history since boot report for all tty, CPU, and Disks.

.RE
.B iostat -d 2
.RS
Display a continuous disk report at two second intervals.

.RE
.B iostat -d 2 6
.RS
Display six reports at two second intervals for all disks.
.SH BUGS
iowait and tty statistics are still not implemented in the Linux kernel.

Statistics in KB/s for each block device are not available by default
due to Linux poor disk accounting. A kernel patch is necessary to fix that.

.I /proc
filesystem must be mounted for
.B iostat
to work.
.SH FILE
.I /proc/stat
contains system statisitics.
.SH AUTHOR
Sebastien Godard <sebastien.godard@wanadoo.fr>
.SH SEE ALSO
.BR vmstat (8),
.BR sar (1),
.BR mpstat (1)
